<?php
/**
 * Книга перемен — бот для толкования по И-Цзин.
 * Скопируйте этот файл в config.php и заполните значения.
 * config.php не должен попадать в репозиторий.
 */

define('BOT_TOKEN', '');           // Токен от @BotFather
define('DEEPSEEK_API_KEY', '');   // Ключ API DeepSeek (обязательно)

// Лимит токенов в ответе DeepSeek (0 = без лимита). Меньше = быстрее ответ.
define('DEEPSEEK_MAX_TOKENS', 800);

/**
 * Промпты для DeepSeek по командам.
 * Ключи: gadat, vopros, nomer, tolkovanie
 */
$GLOBALS['DEEPSEEK_PROMPTS'] = array(
    // /gadat — толкование гексаграммы по 6 линиям (yang/yin). Получает JSON iching_request с hexagram_data.lines.
    'gadat' => 'Ты мастер Ицзин (Книги Перемен). Получаешь JSON с iching_request: hexagram_data.lines — массив из 6 значений "yang" (целая черта) или "yin" (прерывистая) снизу вверх. Дай подробное толкование этой гексаграммы: смысл, совет, как применить в жизни. Используй классические тексты и давай практические советы. Пиши на русском.',

    // /vopros — ответ на вопрос через призму выпавшей гексаграммы
    'vopros' => 'Ты толкователь по «Книге перемен» (И-Цзин). Пользователь задал вопрос, и ему выпала определённая гексаграмма. Свяжи толкование этой гексаграммы с его вопросом: дай совет, разъясни, что может означать этот ответ в его ситуации. Пиши на русском, по делу.',

    // /nomer N — толкование гексаграммы только по номеру (1–64)
    'nomer' => 'Ты эксперт по «Книге перемен» (И-Цзин). Пользователь запрашивает толкование гексаграммы по номеру. Дай каноническое толкование: название гексаграммы, основной смысл, ключевые советы. Пиши на русском, чётко и развёрнуто.',

    // /tolkovanie — развёрнутое толкование текста (сны, ситуации, символы) в духе Книги перемен
    'tolkovanie' => 'Ты толкователь по «Книге перемен» (И-Цзин). Пользователь присылает текст: сон, ситуацию, символы, образы. Истолкуй это в духе И-Цзин: найди связь с принципами Книги перемен, дай развёрнутое толкование и совет. Пиши на русском, глубоко и по существу.',
);

// Тексты ответов бота
define('BOT_MSG_START', "Привет. Я бот по Книге перемен (И-Цзин).\n\nКоманды:\n/gadat — Предсказание (6 бросков → гексаграмма)\n/vopros — задать вопрос\n/nomer N — толкование по номеру (1–64)\n/tolkovanie — развёрнутое толкование (сны, ситуации)\n/spravka — справка по командам");
define('BOT_MSG_SPRAVKA', "Справка — Книга перемен\n\n/gadat — Предсказание. 6 бросков → выпадет гексаграмма, получишь её толкование.\n\n/vopros — задай вопрос в следующем сообщении, выпадет гексаграмма и ответ на твой вопрос.\n\n/nomer N — толкование гексаграммы по номеру (1–64). Пример: /nomer 15\n\n/tolkovanie — развёрнутое толкование. В следующем сообщении опиши сон, ситуацию или символы.");
define('BOT_MSG_AFTER_VOPROS', 'Напиши свой вопрос в следующем сообщении.');
define('BOT_MSG_AFTER_TOLKOVANIE', 'Опиши сон, ситуацию или символы в следующем сообщении.');
define('BOT_MSG_AFTER_NOMER', 'Напиши номер гексаграммы (1–64).');
define('BOT_MSG_SEND_VOPROS', 'Пришли вопрос одним сообщением.');
define('BOT_MSG_SEND_TOLKOVANIE', 'Пришли текст (сон, ситуация) одним сообщением.');
define('BOT_MSG_SEND_NOMER', 'Пришли номер гексаграммы от 1 до 64.');
define('BOT_MSG_NOMER_INVALID', 'Номер должен быть от 1 до 64. Попробуй ещё раз.');
define('BOT_MSG_SENT_TO_DM', 'Толкование отправлено тебе в личные сообщения.');
define('BOT_MSG_ERROR', 'Произошла ошибка, попробуй позже.');

// Гадание: 6 бросков
define('BOT_MSG_GADAT_START', 'Для получения гексаграммы нужно сделать 6 бросков.');
define('BOT_MSG_GADAT_BTN_THROW', 'Бросок');
define('BOT_MSG_GADAT_BTN_NEXT', 'Сделать %d-й бросок');
define('BOT_MSG_GADAT_LINE_YANG', '———');
define('BOT_MSG_GADAT_LINE_YIN', '— —');
define('BOT_MSG_GADAT_LOOKUP', 'Ищем толкование…');

define('ADMIN_LOGIN', 'admin');
define('ADMIN_PASSWORD', '');

define('DATA_DIR', __DIR__ . '/data');

define('LOGS_ARCHIVE_AFTER', 1000);
